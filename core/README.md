# Сервис распознавания

Проект распознания текста на изображениях.
Поддерживает русский, английский и казахский языки.

## Структура репозитория

```bash
core
├── assets                   
│   └── images             <- Папка с тестовыми изображениями
├── configs                
│   └── core               <- Конфиги Ядра
│       ├── loader         <- Конфиг загрузчика
│       ├── preprocessor   <- Конфиг препроцессинга
│       ├── detector       <- Конфиг детектора
│       ├── postprocessor  <- Конфиг постпроцессора
│       ├── recognizer     <- Конфиг рекогнайзера
│       └──visualizer      <- Конфиг визуализатора
│   ├── hydra              <- Доп. конфиги Hydra
│   │
│   ├── config_api.yaml    <- Конфиг для API
│   └── config.yaml        <- Основной конфиг Ядра
│
├── data                   <- Папка с основными классами данных
│
├── notebooks              <- Папка с тетрадками для отладки и проверки 
│
├── pipelines              <- Основные пайплайны
│   ├── default            <- Базовые классы для пайплайнов
│   ├── loader             <- Загрузчик изображений и документов
│   ├── preprocessor       <- Препроцессор
│   ├── detector           <- Детектор
│   ├── postprocessor      <- Постпроцессор
│   ├── recognizer         <- Рекогнайзер
│   ├── visualizer         <- Визуалайзер
│   │
│   └── run.py             <- Запуск ядра для config.yaml
│
├── tests                  <- Вариации тестов
│
├── tests                  <- Различные утилиты для Ядра
│
├── .core-root             <- Файл для определения корневой директории ядра
│
├── app.py                 <- Запуск API приложения
├── predict.py             <- Запуск обычного предсказания из папки
├── eval.py                <- Запуск валидации # Скоро переедет в тестер
│
└── README.md
```

## Среда

Используемая среда - python 3.10.16
Для установки зайти в корневую директорию проекта и запустить poetry

## Запуск

### 1. Базовый способ: локальная инициализация

Фото и pdf доки по умолчанию подтягиваются из assets/images.

Запуск:
```bash
python predict.py
```

Если необходимо передать путь до папки с изображением - добавляем

```
python predict.py images_dir=/path/to/your/images/
```

## Пример работы

(Сюда итоговую визуализацию)

## Работа с pre-commit

Для запуска прекоммита 

```
pre-commit install
```

Дальше делаем просто

```
pre-commit run --all-files # Флаг для всех файлов
```